NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

13909  
13910  * Additionally, examine the age distribution for questions ;
13911  * of generalizability.  How does the pts_smpl=1 population ;
13912  * differ from the full NCS-R sample? ;
13913  ods pdf file = "&outputs/RS5-Age_MTO_vs_NCSR.pdf";
NOTE: Writing ODS PDF output to DISK destination 
      "C:\Users\Anolinx\MTO\outputs\RS5-Age_MTO_vs_NCSR.pdf", printer "PDF".
13914  title "Age distributions in NCSR and MTO barely overlap";
13915  proc sort data=NCSR.ncsr;
13916    by pts_smpl;

NOTE: There were 9282 observations read from the data set NCSR.NCSR.
NOTE: The data set NCSR.NCSR has 9282 observations and 4213 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.35 seconds
      cpu time            0.36 seconds
      

13917  proc means data=NCSR.ncsr;
13918    var age;
13919    by pts_smpl;
13920  run;

NOTE: There were 9282 observations read from the data set NCSR.NCSR.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      

13921  
13922  * Plot a histogram to show the age density clearly, ;
13923  * both for pts_smpl=1 and pts_smpl=0 groups.        ;
13924  ods graphics / reset attrpriority=color width=5in height=3in imagename='NCSR_age';
13925  
13926  %macro plot_age_dens;
13927  %IF &workstation = Seattle %THEN %DO;
13928  proc sgplot data=NCSR.ncsr;
13929    histogram age / group=pts_smpl filltype=gradient transparency=0.5
13930                    nbins=75 name='est';
13931    density age / group=pts_smpl;
13932    xaxis display=(nolabel) min=15 max=90;
13933    yaxis grid;
13934    keylegend 'est' / location=inside across=1 position=topright;
13935  run;
13936  %END;
13937  %IF &workstation = SLC %THEN %DO;
13938  proc sgplot data=NCSR.ncsr;
13939    histogram age/ nbins=75 name='est';
13940    density age;
13941    xaxis display=(nolabel) min=15 max=90;
13942    yaxis grid;
13943    keylegend 'est' / location=inside across=1 position=topright;
13944    by pts_smpl;
13945  run;
13946  %END;
13947  %mend;
13948  %plot_age_dens;
MPRINT(PLOT_AGE_DENS):   proc sgplot data=NCSR.ncsr;
MPRINT(PLOT_AGE_DENS):   histogram age/ nbins=75 name='est';
MPRINT(PLOT_AGE_DENS):   density age;
MPRINT(PLOT_AGE_DENS):   xaxis display=(nolabel) min=15 max=90;
MPRINT(PLOT_AGE_DENS):   yaxis grid;
MPRINT(PLOT_AGE_DENS):   keylegend 'est' / location=inside across=1 position=topright;
MPRINT(PLOT_AGE_DENS):   by pts_smpl;
MPRINT(PLOT_AGE_DENS):   run;

NOTE: PROCEDURE SGPLOT used (Total process time):
      real time           0.74 seconds
      cpu time            0.29 seconds
      
NOTE: There were 9282 observations read from the data set NCSR.NCSR.

13949  ods pdf close;
NOTE: ODS PDF printed 3 pages to C:\Users\Anolinx\MTO\outputs\RS5-Age_MTO_vs_NCSR.pdf.
13950  
13951  * TODO: Plot a similar histogram demonstrating the negligible overlap ;
13952  *       of the age distributions of MTO and NCS-R.                    ;
13953  
13954  /* end of STEP V */
13955  
13956  /*  STEP_Z -- Invoke a slightly modified version of Matt Sciandra's imputation code
13957   * TODO: Ultimately, we hope to extract from Matt Sciandra's imputation code just the
13958   *       essential parts for our investigation of PTSD.  At present, his code is very
13959   *       general, and probably does a lot of extra work that makes the program run
13960   *       quite slowly -- taking 3-4 minutes to run  Obviously, that won't
13961   *       do inside our bootstrapping loop!
13962   ***********************************************************************************/
13963   *                                                       add/remove forward slash --^ ;
13964   *                                                       to enable/disable STEP Z     ;
13965  *%include
13965! "C:/Users/Anolinx/MTO/mto_jama_sas_code_20160114/1_mto_jama_impute_data_20160111.sas";
13966  /* end of STEP Z */
13967  
13968  /*  STEP VI -- Bootstrap the voucher effects
13969   ********************************************/
13970   *                add/remove forward slash --^ ;
13971   *                to enable/disable STEP VI    ;
13972  
13973  PROC PRINTTO NEW
13974    LOG="&outputs/RS6.log";
13975  RUN;

